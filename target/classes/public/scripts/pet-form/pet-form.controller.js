"use strict";angular.module("petForm").controller("PetFormController",["$http","$state","$stateParams",function(t,e,n){var a=this,p=n.ownerId||0;t.get("petTypes").then(function(t){a.types=t.data}).then(function(){var e=n.petId||0;e?t.get("owners/"+p+"/pets/"+e).then(function(t){a.pet=t.data,a.pet.birthDate=new Date(a.pet.birthDate),a.petTypeId=""+a.pet.type.id}):t.get("owners/"+p).then(function(t){a.pet={owner:t.data.firstName+" "+t.data.lastName},a.petTypeId="1"})}),a.submit=function(){var n,r=a.pet.id||0,o={id:r,name:a.pet.name,birthDate:a.pet.birthDate,typeId:a.petTypeId};n=r?t.put("owners/"+p+"/pets/"+r,o):t.post("owners/"+p+"/pets",o),n.then(function(){e.go("ownerDetails",{ownerId:p})})}}]);