"use strict";angular.module("visits").controller("VisitsController",["$http","$state","$stateParams","$filter",function(t,e,s,n){var i=this,o=s.petId||0,a="owners/"+(s.ownerId||0)+"/pets/"+o+"/visits";i.date=new Date,i.desc="",t.get(a).then(function(t){i.visits=t.data}),i.submit=function(){var o={date:n("date")(i.date,"yyyy-MM-dd"),description:i.desc};t.post(a,o).then(function(){e.go("ownerDetails",{ownerId:s.ownerId})})}}]);