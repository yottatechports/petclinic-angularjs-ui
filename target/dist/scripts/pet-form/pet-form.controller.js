"use strict";angular.module("petForm").controller("PetFormController",["$http","$state","$stateParams",function(t,e,a){var o=this,n=a.ownerId||0;t.get("http://ec2-54-87-132-138.compute-1.amazonaws.com:8080/petTypes").then(function(t){o.types=t.data}).then(function(){var e=a.petId||0;e?t.get("http://ec2-54-87-132-138.compute-1.amazonaws.com:8080/owners/"+n+"/pets/"+e).then(function(t){o.pet=t.data,o.pet.birthDate=new Date(o.pet.birthDate),o.petTypeId=""+o.pet.type.id}):t.get("http://ec2-54-87-132-138.compute-1.amazonaws.com:8080/owners/"+n).then(function(t){o.pet={owner:t.data.firstName+" "+t.data.lastName},o.petTypeId="1"})}),o.submit=function(){var a,p=o.pet.id||0,r={id:p,name:o.pet.name,birthDate:o.pet.birthDate,typeId:o.petTypeId};a=p?t.put("http://ec2-54-87-132-138.compute-1.amazonaws.com:8080/owners/"+n+"/pets/"+p,r):t.post("http://ec2-54-87-132-138.compute-1.amazonaws.com:8080/owners/"+n+"/pets",r),a.then(function(){e.go("ownerDetails",{ownerId:n})})}}]);